var module_194811359645=function(){function executar(){const elements={placeholder:document.getElementById("placeholder-search")?.textContent?.trim()||"O que está procurando?",result:document.getElementById("result-search")?.textContent?.trim()||"CURSOS",course:document.getElementById("course-search")?.textContent?.trim(),id:document.getElementById("id-search")?.textContent?.trim(),courseUrl:document.getElementById("course-url-search")?.textContent?.trim()||"/curso",courseLabel:document.getElementById("course-label-search")?.textContent?.trim()||"Curso"};if(!elements.course||!elements.id)return void console.error("Dados necessários não encontrados:",{course:elements.course,id:elements.id});const searchData={...elements,course:[],inputText:"",couponUrl:new URLSearchParams(window.location.search).get("data")},domElements={coursesHeading:document.getElementById("courses-heading"),coursesList:document.getElementById("courses-list"),coursesEmpty:document.getElementById("courses-empty"),search:document.getElementById("search"),searchInputWrapper:document.getElementById("search__input-wrapper"),submenu:document.getElementById("submenu"),containerSearch:document.querySelector(".container__search"),searchInputContainer:document.querySelector(".search__input-container"),mobileMenu:document.querySelector(".mobile-menu-list"),mobileButtons:document.querySelector(".mobile-buttons"),navbar:document.getElementById("navbar"),header:document.querySelector(".header"),searchInput:document.getElementById("full-search"),searchInputMobile:document.getElementById("full-search-mobile"),menuToggle:document.getElementById("menuToggle"),close:document.querySelector(".search__close-button")};function updateSearchResults(){const courseResults=searchData.course.filter((item=>{if(!searchData.inputText.length)return!0;const searchTerm=searchData.inputText.toLowerCase(),courseName=item?.name?.toLowerCase()||"",courseCategory=item?.values?.[5]?.[0]?.name?.toLowerCase()||"";return courseName.includes(searchTerm)||courseCategory.includes(searchTerm)}));domElements.coursesHeading&&(domElements.coursesHeading.textContent=searchData.result||"Cursos encontrados"),domElements.coursesList&&(domElements.coursesList.innerHTML="",courseResults.length>0?(courseResults.forEach((item=>{let splited=item.values.categorias[0].name.split(" "),removedAccents=splited[0].normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ç/g,"c").replace(/Ç/g,"C");const link=document.createElement("a");link.href=item?.path?`/curso/${removedAccents}/${item.path}`:"/curso",link.className="subitem__list-item";const img=document.createElement("img");img.className="card__img",img.src=item.values?.card_img?.url||"/placeholder-image.jpg",img.alt=item.name||"Imagem do curso";const contentDiv=document.createElement("div");contentDiv.className="card__container",contentDiv.innerHTML=`\n                        <div class="card__category">${item.values?.[5]?.[0]?.name||""}</div>\n                        <div class="card__title">${item.name}</div>\n                    `,link.appendChild(img),link.appendChild(contentDiv),domElements.coursesList.appendChild(link)})),domElements.coursesEmpty&&(domElements.coursesEmpty.style.display="none")):domElements.coursesEmpty&&(domElements.coursesEmpty.style.display="block"))}function toggleElementVisibility(elements,show){const displayValues={search:"block",searchInputWrapper:"flex",submenu:"block",containerSearch:"flex",searchInputContainer:"none",mobileMenu:"flex",mobileButtons:"flex"};elements.forEach((element=>{if(domElements[element]){const newDisplay=show?displayValues[element]:"none";domElements[element].style.display=newDisplay}}))}function exitInput(){document.body.classList.remove("search-active","scrolled"),domElements.header?.classList.remove("header--search-active","header--scrolled"),toggleElementVisibility(["searchInputContainer","searchInputWrapper","submenu"],!1),toggleElementVisibility(["containerSearch","mobileMenu","mobileButtons"],!0),showMobileMenu()}function activateSearch(mobile=!1){toggleElementVisibility(["search","searchInputWrapper","submenu"],!0);const searchInput=mobile?domElements.searchInputMobile:domElements.searchInput;searchInput&&searchInput.focus(),domElements.navbar&&(domElements.navbar.id="navbar__scroll"),fetch(`https://api.hubapi.com/cms/v3/hubdb/tables/${elements.course}/rows?sort=ordem&portalId=${elements.id}`).then((response=>response.ok?response.json():Promise.reject(new Error(`HTTP error! status: ${response.status}`)))).then((data=>{const rows=data?.results||data?.objects||[];searchData.course=rows,updateSearchResults()})).catch((error=>{console.error("Erro ao carregar cursos:",error),searchData.course=[],updateSearchResults()}))}function showMobileMenu(){toggleElementVisibility(["mobileMenu","mobileButtons"],!0)}domElements.containerSearch&&domElements.containerSearch.addEventListener("click",(()=>activateSearch(!1))),domElements.menuToggle&&domElements.menuToggle.addEventListener("click",(function(){document.body.classList.remove("search-active"),domElements.header?.classList.remove("header--search-active"),toggleElementVisibility(["searchInputContainer"],!1),toggleElementVisibility(["containerSearch"],!0),showMobileMenu()})),domElements.searchInput&&(domElements.searchInput.addEventListener("input",(e=>{searchData.inputText=e.target.value,updateSearchResults()})),domElements.searchInput.addEventListener("blur",(()=>setTimeout(exitInput,200)))),domElements.searchInputMobile&&domElements.searchInputMobile.addEventListener("input",(e=>{searchData.inputText=e.target.value,updateSearchResults(),activateSearch(!0),toggleElementVisibility(["mobileMenu","mobileButtons"],!1)})),domElements.close&&domElements.close.addEventListener("click",exitInput),document.addEventListener("click",(e=>{const searchElement=e.target.closest("#search"),containerSearchElement=e.target.closest(".container__search"),menuToggleElement=e.target.closest("#menuToggle");searchElement||containerSearchElement||menuToggleElement||exitInput()}))}"loading"==document.readyState?document.addEventListener("DOMContentLoaded",executar):executar()}();
//# sourceURL=https://6565290.fs1.hubspotusercontent-na1.net/hubfs/6565290/hub_generated/module_assets/1/194811359645/1757345882069/module_header-search.js