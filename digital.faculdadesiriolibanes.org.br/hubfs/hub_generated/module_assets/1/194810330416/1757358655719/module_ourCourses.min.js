var module_194810330416=void document.addEventListener("DOMContentLoaded",(()=>{const filterButtons=document.querySelectorAll(".filter-btn"),viewAllLink=document.getElementById("view-all-courses-link"),baseUrl=viewAllLink?viewAllLink.getAttribute("data-base-url"):"";filterButtons.forEach((button=>{button.addEventListener("click",(function(){filterButtons.forEach((btn=>btn.classList.remove("active"))),this.classList.add("active");const categorySlug=this.getAttribute("data-category-slug");viewAllLink&&(viewAllLink.href=categorySlug?`${baseUrl}/${encodeURIComponent(categorySlug)}${window.location.search}`:`${baseUrl}${window.location.search}`)}))}));const firstActiveFilter=document.querySelector(".filter-btn.active");let glide;firstActiveFilter&&firstActiveFilter.click();let originalSlides=[],slidesByCategory=new Map,currentCategory=null,viewedCategories=new Set;function checkCarouselElements(){const glideContainer=document.querySelector(".our-courses-module .glide"),slidesContainer=document.querySelector(".our-courses-module .glide__slides"),slides=document.querySelectorAll(".our-courses-module .glide__slide");return glideContainer&&slidesContainer&&slides.length>0}function initializeCarousel(){if(!checkCarouselElements())return console.warn("Glide carousel: Required elements not found"),null;try{return glide=new Glide(".our-courses-module .glide",{type:"slider",startAt:0,perView:3.75,bound:!0,gap:16,rewind:!1,breakpoints:{562:{perView:1.25},920:{perView:2.25},1190:{perView:3.25}}}),glide.mount(),updateCarouselControls(),glide}catch(error){return console.error("Erro ao inicializar o carrossel:",error),null}}function updateCarouselControls(){const totalSlides=document.querySelectorAll(".our-courses-module .glide__slide").length,prevButtons=document.querySelectorAll(".our-courses-module .glide__arrow--prev"),nextButtons=document.querySelectorAll(".our-courses-module .glide__arrow--next");function disableNavigationButtons(currentPage,maxPage){0===currentPage?(prevButtons.forEach((button=>{const[prevImg]=button.children;prevImg&&prevImg.classList.add("our-courses-nav-disabled")})),nextButtons.forEach((button=>{const[nextImg]=button.children;nextImg&&nextImg.classList.remove("our-courses-nav-disabled")}))):currentPage===maxPage?(nextButtons.forEach((button=>{const[nextImg]=button.children;nextImg&&nextImg.classList.add("our-courses-nav-disabled")})),prevButtons.forEach((button=>{const[prevImg]=button.children;prevImg&&prevImg.classList.remove("our-courses-nav-disabled")}))):(nextButtons.forEach((button=>{const[nextImg]=button.children;nextImg&&nextImg.classList.remove("our-courses-nav-disabled")})),prevButtons.forEach((button=>{const[prevImg]=button.children;prevImg&&prevImg.classList.remove("our-courses-nav-disabled")})))}const currentPerView=window.innerWidth<=562?1.25:window.innerWidth<=920?2.25:window.innerWidth<=1190?3.25:3.75;totalSlides<=currentPerView?(prevButtons.forEach((button=>button.style.display="none")),nextButtons.forEach((button=>button.style.display="none"))):(prevButtons.forEach((button=>button.style.display="block")),nextButtons.forEach((button=>button.style.display="block"))),disableNavigationButtons(0,Math.max(0,totalSlides-currentPerView)),glide&&glide.on("run",(_move=>{const maxPage=Math.ceil(totalSlides-currentPerView);disableNavigationButtons(glide.index,maxPage)}))}function sendTrackingEvent(){const isDynamicPageElement=document.getElementById("data-is-dynamic-page");if(isDynamicPageElement&&"true"===isDynamicPageElement.textContent.trim())return;const categoryKey=currentCategory||"all";if(viewedCategories.has(categoryKey))return;const activeFilterButton=document.querySelector(".our-courses-module .filter-btn.active"),categoryName=activeFilterButton?activeFilterButton.textContent.trim():"Todos os Cursos",categorySlug=categoryName.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),visibleSlides=document.querySelectorAll(".our-courses-module .glide__slide"),courseItems=Array.from(visibleSlides).map(((slide,index)=>{const courseName=slide.getAttribute("data-course-name")||"";return{item_id:slide.getAttribute("data-course-id")||"",item_name:courseName,item_category:"POS-GRADUACAO",item_brand:"SIRIO-LIBANES",item_category:categoryName,price:0,index:index+1,quantity:1}}));window.TrackingFacade.sendEvent("view_item_list",{currency:"BRL",value:0,item_list_name:`Pos Graduacao - ${categoryName}`,item_list_id:`produtos_pos_graduacao_${categorySlug}`,item_list_category:categoryName,filtered_category:categorySlug,total_items:courseItems.length,origin:window.location.pathname,ecommerce:{items:courseItems}}),viewedCategories.add(categoryKey)}function attachTrackingListeners(){document.querySelectorAll(".our-courses-module a[data-tracking]").forEach((function(element){element.removeEventListener("click",handleTrackingClick),element.addEventListener("click",handleTrackingClick)}))}function handleTrackingClick(e){let target=e.target.closest("a[data-tracking]");if(target)try{let trackingData=JSON.parse(target.getAttribute("data-tracking"));window.TrackingFacade.sendEvent("select_item",{currency:"BRL",value:0,origin:window.location.pathname,ecommerce:{items:[{item_name:trackingData.name,item_id:trackingData.id,price:0,item_brand:"SIRIO-LIBANES",item_category:trackingData.category||"POS-GRADUACAO",item_type:trackingData.type,index:1,quantity:1}]}})}catch(error){console.error("Erro no tracking:",error)}}function rebuildCarousel(categoryId){const slidesContainer=document.querySelector(".our-courses-module .glide__slides");if(slidesContainer){if(slidesContainer.innerHTML="",slidesByCategory.has(categoryId)&&slidesByCategory.get(categoryId).forEach((slide=>{slidesContainer.appendChild(slide.cloneNode(!0))})),glide)try{glide.destroy()}catch(error){console.warn("Erro ao destruir carrossel anterior:",error)}if(document.querySelectorAll(".our-courses-module .glide__slide").length>0){glide=initializeCarousel(),attachTrackingListeners();const rect=document.querySelector("#our-courses-module").getBoundingClientRect();rect.top<window.innerHeight&&rect.bottom>0&&sendTrackingEvent()}else console.warn("Nenhum slide encontrado para a categoria:",categoryId)}}function filterCourses(categoryId){currentCategory=categoryId,rebuildCarousel(categoryId)}checkCarouselElements()?(function(){const slidesContainer=document.querySelector(".our-courses-module .glide__slides");slidesContainer&&(originalSlides=Array.from(slidesContainer.children),originalSlides.forEach((slide=>{const categories=slide.getAttribute("data-course-categories");categories&&categories.split(",").forEach((categoryId=>{slidesByCategory.has(categoryId)||slidesByCategory.set(categoryId,[]),slidesByCategory.get(categoryId).push(slide.cloneNode(!0))}))})))}(),function(){const filterButtons=document.querySelectorAll(".our-courses-module .filter-btn");filterButtons.forEach((button=>{button.addEventListener("click",(e=>{filterButtons.forEach((btn=>btn.classList.remove("active"))),e.target.classList.add("active");const categoryId=e.target.getAttribute("data-category");categoryId&&filterCourses(categoryId)}))}))}(),function(){const activeFilterButton=document.querySelector(".our-courses-module .filter-btn.active");if(activeFilterButton){const initialCategoryId=activeFilterButton.getAttribute("data-category");initialCategoryId&&filterCourses(initialCategoryId)}else checkCarouselElements()&&(glide=initializeCarousel(),attachTrackingListeners())}(),function(){const moduleElement=document.querySelector("#our-courses-module");moduleElement&&new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting&&entry.intersectionRatio>.3&&sendTrackingEvent()}))}),{threshold:.3,rootMargin:"0px 0px -50px 0px"}).observe(moduleElement)}()):console.warn("Elementos do carrossel não encontrados. Módulo não inicializado."),window.addEventListener("resize",(()=>{setTimeout((()=>{currentCategory?rebuildCarousel(currentCategory):glide&&updateCarouselControls()}),100)})),"undefined"!=typeof window&&(window.glide=glide)}));
//# sourceURL=https://6565290.fs1.hubspotusercontent-na1.net/hubfs/6565290/hub_generated/module_assets/1/194810330416/1757358655719/module_ourCourses.js